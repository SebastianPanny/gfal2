\section{/home/adevress/myworkspace/gfal/src/common/srm/gfal\_\-common\_\-srm\_\-endpoint.h File Reference}
\label{gfal__common__srm__endpoint_8h}\index{/home/adevress/myworkspace/gfal/src/common/srm/gfal_common_srm_endpoint.h@{/home/adevress/myworkspace/gfal/src/common/srm/gfal\_\-common\_\-srm\_\-endpoint.h}}
header file for internal use in the srm part, endpoint determination 

{\tt \#include \char`\"{}gfal\_\-common\_\-srm.h\char`\"{}}\par
{\tt \#include \char`\"{}gfal\_\-constants.h\char`\"{}}\par
{\tt \#include \char`\"{}../gfal\_\-prototypes.h\char`\"{}}\par
{\tt \#include \char`\"{}../gfal\_\-types.h\char`\"{}}\par
{\tt \#include $<$stdlib.h$>$}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
int \bf{gfal\_\-srm\_\-determine\_\-endpoint} (gfal\_\-handle handle, const char $\ast$surl, char $\ast$buff\_\-endpoint, size\_\-t s\_\-buff, enum gfal\_\-srm\_\-proto $\ast$srm\_\-type, GError $\ast$$\ast$err)
\begin{CompactList}\small\item\em extract endpoint and srm\_\-type from a surl determine the best endpoint associated with the surl and the param of the actual handle (no bdii check or not) see the diagram in doc/diagrams/surls\_\-get\_\-endpoint\_\-activity\_\-diagram.svg for more informations \item\end{CompactList}\item 
gboolean \bf{gfal\_\-check\_\-fullendpoint\_\-in\_\-surl\-G} (const char $\ast$surl, GError $\ast$$\ast$err)
\item 
int \bf{gfal\_\-get\_\-fullendpoint\-G} (const char $\ast$surl, char $\ast$buff\_\-endpoint, size\_\-t s\_\-buff, GError $\ast$$\ast$err)\label{gfal__common__srm__endpoint_8h_fbb46a068ea2a908160cb7b998377ffd}

\begin{CompactList}\small\item\em create a full endpoint from a \char`\"{}full-surl\char`\"{} \item\end{CompactList}\item 
int \bf{gfal\_\-select\_\-best\_\-protocol\_\-and\_\-endpoint\-G} (gfal\_\-handle handle, char $\ast$$\ast$tab\_\-se\_\-type, char $\ast$$\ast$tab\_\-endpoint, char $\ast$buff\_\-endpoint, size\_\-t s\_\-buff, enum gfal\_\-srm\_\-proto $\ast$srm\_\-type, GError $\ast$$\ast$err)
\item 
int \bf{gfal\_\-get\_\-endpoint\_\-and\_\-setype\_\-from\_\-bdii\-G} (gfal\_\-handle handle, const char $\ast$surl, char $\ast$buff\_\-endpoint, size\_\-t s\_\-buff, enum gfal\_\-srm\_\-proto $\ast$srm\_\-type, GError $\ast$$\ast$err)
\begin{CompactList}\small\item\em get endpoint from the bdii system only \item\end{CompactList}\item 
int \bf{gfal\_\-get\_\-hostname\_\-from\_\-surl\-G} (const char $\ast$surl, char $\ast$buff\_\-hostname, size\_\-t s\_\-buff, GError $\ast$$\ast$err)
\begin{CompactList}\small\item\em get the hostname from a surl \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
header file for internal use in the srm part, endpoint determination 

\begin{Desc}
\item[Author:]Devresse Adrien \end{Desc}
\begin{Desc}
\item[Version:]2.0 \end{Desc}
\begin{Desc}
\item[Date:]22/06/2011 \end{Desc}


\subsection{Function Documentation}
\index{gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}!gfal_check_fullendpoint_in_surlG@{gfal\_\-check\_\-fullendpoint\_\-in\_\-surlG}}
\index{gfal_check_fullendpoint_in_surlG@{gfal\_\-check\_\-fullendpoint\_\-in\_\-surlG}!gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gboolean gfal\_\-check\_\-fullendpoint\_\-in\_\-surl\-G (const char $\ast$ {\em surl}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__srm__endpoint_8h_99a6995d5d222d54f28d7952499f60ba}


return TRUE if a full endpoint is contained in surl else FALSE \index{gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}!gfal_get_endpoint_and_setype_from_bdiiG@{gfal\_\-get\_\-endpoint\_\-and\_\-setype\_\-from\_\-bdiiG}}
\index{gfal_get_endpoint_and_setype_from_bdiiG@{gfal\_\-get\_\-endpoint\_\-and\_\-setype\_\-from\_\-bdiiG}!gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-get\_\-endpoint\_\-and\_\-setype\_\-from\_\-bdii\-G (gfal\_\-handle {\em handle}, const char $\ast$ {\em surl}, char $\ast$ {\em buff\_\-endpoint}, size\_\-t {\em s\_\-buff}, enum gfal\_\-srm\_\-proto $\ast$ {\em srm\_\-type}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__srm__endpoint_8h_140721fdb18fe72533ed6f47122e939d}


get endpoint from the bdii system only 

\begin{Desc}
\item[Returns:]0 if success with endpoint and srm\_\-type set correctly else -1 and err set \end{Desc}
\index{gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}!gfal_get_hostname_from_surlG@{gfal\_\-get\_\-hostname\_\-from\_\-surlG}}
\index{gfal_get_hostname_from_surlG@{gfal\_\-get\_\-hostname\_\-from\_\-surlG}!gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-get\_\-hostname\_\-from\_\-surl\-G (const char $\ast$ {\em surl}, char $\ast$ {\em buff\_\-hostname}, size\_\-t {\em s\_\-buff}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__srm__endpoint_8h_c986f73b04fffd801b49861414fd33b1}


get the hostname from a surl 

\begin{Desc}
\item[Returns:]return 0 if success else -1 and err is set \end{Desc}
\index{gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}!gfal_select_best_protocol_and_endpointG@{gfal\_\-select\_\-best\_\-protocol\_\-and\_\-endpointG}}
\index{gfal_select_best_protocol_and_endpointG@{gfal\_\-select\_\-best\_\-protocol\_\-and\_\-endpointG}!gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-select\_\-best\_\-protocol\_\-and\_\-endpoint\-G (gfal\_\-handle {\em handle}, char $\ast$$\ast$ {\em tab\_\-se\_\-type}, char $\ast$$\ast$ {\em tab\_\-endpoint}, char $\ast$ {\em buff\_\-endpoint}, size\_\-t {\em s\_\-buff}, enum gfal\_\-srm\_\-proto $\ast$ {\em srm\_\-type}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__srm__endpoint_8h_6752ff0c9af50ac505ba7d1f42e43e2d}


select the best protocol choice and the best endpoint choice from a list of protocol and endpoints obtained by the bdii \index{gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}!gfal_srm_determine_endpoint@{gfal\_\-srm\_\-determine\_\-endpoint}}
\index{gfal_srm_determine_endpoint@{gfal\_\-srm\_\-determine\_\-endpoint}!gfal_common_srm_endpoint.h@{gfal\_\-common\_\-srm\_\-endpoint.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-srm\_\-determine\_\-endpoint (gfal\_\-handle {\em handle}, const char $\ast$ {\em surl}, char $\ast$ {\em buff\_\-endpoint}, size\_\-t {\em s\_\-buff}, enum gfal\_\-srm\_\-proto $\ast$ {\em srm\_\-type}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__srm__endpoint_8h_d4518c44afa2a953bea3701d26ae7e9e}


extract endpoint and srm\_\-type from a surl determine the best endpoint associated with the surl and the param of the actual handle (no bdii check or not) see the diagram in doc/diagrams/surls\_\-get\_\-endpoint\_\-activity\_\-diagram.svg for more informations 

\begin{Desc}
\item[Returns:]return 0 with endpoint and types set if success else -1 and set Error \end{Desc}
