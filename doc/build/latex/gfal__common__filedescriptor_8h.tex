\section{/home/adevress/myworkspace/gfal/src/common/gfal\_\-common\_\-filedescriptor.h File Reference}
\label{gfal__common__filedescriptor_8h}\index{/home/adevress/myworkspace/gfal/src/common/gfal_common_filedescriptor.h@{/home/adevress/myworkspace/gfal/src/common/gfal\_\-common\_\-filedescriptor.h}}
header file for the file descriptor management 

{\tt \#include $<$glib.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$pthread.h$>$}\par
{\tt \#include \char`\"{}gfal\_\-prototypes.h\char`\"{}}\par
{\tt \#include \char`\"{}gfal\_\-constants.h\char`\"{}}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \textbf{\_\-gfal\_\-file\_\-descriptor\_\-container}
\item 
struct \textbf{\_\-gfal\_\-file\_\-handle\_\-}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
gfal\_\-fdesc\_\-container\_\-handle \textbf{gfal\_\-file\_\-descriptor\_\-handle\_\-create} (GDestroy\-Notify destroyer)\label{gfal__common__filedescriptor_8h_13934d51ad328aabb0721ef7793ad233}

\item 
int \bf{gfal\_\-add\_\-new\_\-file\_\-desc} (gfal\_\-fdesc\_\-container\_\-handle fhandle, gpointer pfile, GError $\ast$$\ast$err)
\item 
gboolean \bf{gfal\_\-remove\_\-file\_\-desc} (gfal\_\-fdesc\_\-container\_\-handle fhandle, int key, GError $\ast$$\ast$err)
\item 
gpointer \bf{gfal\_\-get\_\-file\_\-desc} (gfal\_\-fdesc\_\-container\_\-handle fhandle, int key, GError $\ast$$\ast$err)
\item 
gfal\_\-file\_\-handle \bf{gfal\_\-file\_\-handle\_\-bind} (gfal\_\-fdesc\_\-container\_\-handle h, int file\_\-desc, GError $\ast$$\ast$err)
\item 
gfal\_\-file\_\-handle \textbf{gfal\_\-file\_\-handle\_\-new} (const char $\ast$module\_\-name, gpointer fdesc)\label{gfal__common__filedescriptor_8h_5891a96d47726421216140dba73f5e27}

\item 
gfal\_\-file\_\-handle \bf{gfal\_\-file\_\-handle\_\-ext\_\-new} (const char $\ast$module\_\-name, gpointer fdesc, gpointer ext\_\-data)
\item 
void \bf{gfal\_\-file\_\-handle\_\-delete} (gfal\_\-file\_\-handle fh)
\item 
void \textbf{gfal\_\-file\_\-handle\_\-lock} (gfal\_\-file\_\-handle fh)\label{gfal__common__filedescriptor_8h_6d367603c796be72a8444434ba19cf6b}

\item 
void \textbf{gfal\_\-file\_\-handle\_\-unlock} (gfal\_\-file\_\-handle fh)\label{gfal__common__filedescriptor_8h_8346baf190ac219cfc91ac45e0576449}

\end{CompactItemize}


\subsection{Detailed Description}
header file for the file descriptor management 

\begin{Desc}
\item[Author:]Devresse Adrien \end{Desc}
\begin{Desc}
\item[Version:]2.0 \end{Desc}
\begin{Desc}
\item[Date:]22/05/2011 \end{Desc}


\subsection{Function Documentation}
\index{gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}!gfal_add_new_file_desc@{gfal\_\-add\_\-new\_\-file\_\-desc}}
\index{gfal_add_new_file_desc@{gfal\_\-add\_\-new\_\-file\_\-desc}!gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-add\_\-new\_\-file\_\-desc (gfal\_\-fdesc\_\-container\_\-handle {\em fhandle}, gpointer {\em pfile}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__filedescriptor_8h_8ab30d677c0c3d4a635a35c395524fea}


Add the given file handle to the and return a file descriptor \begin{Desc}
\item[Returns:]return the associated key if success else 0 and set err \end{Desc}
\index{gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}!gfal_file_handle_bind@{gfal\_\-file\_\-handle\_\-bind}}
\index{gfal_file_handle_bind@{gfal\_\-file\_\-handle\_\-bind}!gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gfal\_\-file\_\-handle gfal\_\-file\_\-handle\_\-bind (gfal\_\-fdesc\_\-container\_\-handle {\em h}, int {\em file\_\-desc}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__filedescriptor_8h_b1a9b764baa7c997a354d18bbe43e2cb}


return the file handle associated with the file\_\-desc \begin{Desc}
\item[Warning:]does not free the handle \end{Desc}
\index{gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}!gfal_file_handle_delete@{gfal\_\-file\_\-handle\_\-delete}}
\index{gfal_file_handle_delete@{gfal\_\-file\_\-handle\_\-delete}!gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void gfal\_\-file\_\-handle\_\-delete (gfal\_\-file\_\-handle {\em fh})}\label{gfal__common__filedescriptor_8h_161698b3aec533e12f608111b8da5c2f}


Delete a gfal\_\-file handle

$\ast$ \index{gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}!gfal_file_handle_ext_new@{gfal\_\-file\_\-handle\_\-ext\_\-new}}
\index{gfal_file_handle_ext_new@{gfal\_\-file\_\-handle\_\-ext\_\-new}!gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gfal\_\-file\_\-handle gfal\_\-file\_\-handle\_\-ext\_\-new (const char $\ast$ {\em module\_\-name}, gpointer {\em fdesc}, gpointer {\em ext\_\-data})}\label{gfal__common__filedescriptor_8h_a55408b4cba00997f0c034d5aeffa641}


same than gfal\_\-file\_\-handle but with external data storage support \index{gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}!gfal_get_file_desc@{gfal\_\-get\_\-file\_\-desc}}
\index{gfal_get_file_desc@{gfal\_\-get\_\-file\_\-desc}!gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gpointer gfal\_\-get\_\-file\_\-desc (gfal\_\-fdesc\_\-container\_\-handle {\em fhandle}, int {\em key}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__filedescriptor_8h_91568ee8206643b36d685269b012eb45}


return the associated file handle for the given file descriptor or NULL if the key is not present and err is set \index{gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}!gfal_remove_file_desc@{gfal\_\-remove\_\-file\_\-desc}}
\index{gfal_remove_file_desc@{gfal\_\-remove\_\-file\_\-desc}!gfal_common_filedescriptor.h@{gfal\_\-common\_\-filedescriptor.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gboolean gfal\_\-remove\_\-file\_\-desc (gfal\_\-fdesc\_\-container\_\-handle {\em fhandle}, int {\em key}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__filedescriptor_8h_4b10e1d3a5ffde849302fffdba207835}


remove the associated file handle associated with the given file descriptor return true if success else false 