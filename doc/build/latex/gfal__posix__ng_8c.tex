\section{/home/adevress/myworkspace/gfal/src/posix/gfal\_\-posix\_\-ng.c File Reference}
\label{gfal__posix__ng_8c}\index{/home/adevress/myworkspace/gfal/src/posix/gfal_posix_ng.c@{/home/adevress/myworkspace/gfal/src/posix/gfal\_\-posix\_\-ng.c}}
new file for the posix interface 

{\tt \#include $<$common/gfal\_\-constants.h$>$}\par
{\tt \#include \char`\"{}gfal\_\-posix\_\-api.h\char`\"{}}\par
{\tt \#include \char`\"{}gfal\_\-posix\_\-internal.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
int \bf{gfal\_\-access} (const char $\ast$path, int amode)
\begin{CompactList}\small\item\em test access to the given file \item\end{CompactList}\item 
int \bf{gfal\_\-chmod} (const char $\ast$path, mode\_\-t mode)
\begin{CompactList}\small\item\em change the right for a file or a folder \item\end{CompactList}\item 
int \bf{gfal\_\-rename} (const char $\ast$oldpath, const char $\ast$newpath)
\begin{CompactList}\small\item\em change the name or location of a file oldpath and newpath need to be on the same plugin this functions work only with plugins (lfc ) and local files \item\end{CompactList}\item 
int \bf{gfal\_\-stat} (const char $\ast$path, struct stat $\ast$buff)
\begin{CompactList}\small\item\em informations about a file These functions return information about a file. No permissions are required on the file itself, but \^{a}€” in the case of stat() and lstat() \^{a}€” execute (search) permission is required on all of the directories in path that lead to the file. \item\end{CompactList}\item 
int \bf{gfal\_\-lstat} (const char $\ast$path, struct stat $\ast$buff)\label{group__posix__group_g347f867802a33bc04fdfb769da857103}

\begin{CompactList}\small\item\em gfal\_\-lstat is identical to \doxyref{gfal\_\-stat}{p.}{group__posix__group_g1d8c86d522d5dd26ee7ddcd9c6925964} except for symbolic links. In this case, the link itself is statted and not followed. \item\end{CompactList}\item 
int \bf{gfal\_\-mkdirp} (const char $\ast$path, mode\_\-t mode)
\begin{CompactList}\small\item\em create a new directory creates a new directory with permission bits taken from mode. The default behavior of this command is recursive, like \char`\"{}mkdir -p\char`\"{}. \item\end{CompactList}\item 
int \bf{gfal\_\-mkdir} (const char $\ast$path, mode\_\-t mode)
\item 
int \bf{gfal\_\-rmdir} (const char $\ast$path)
\begin{CompactList}\small\item\em removes a directory if it is empty remove an existing directory, return error if the dir is not empty \item\end{CompactList}\item 
DIR $\ast$ \bf{gfal\_\-opendir} (const char $\ast$name)
\begin{CompactList}\small\item\em open a directory \item\end{CompactList}\item 
dirent $\ast$ \bf{gfal\_\-readdir} (DIR $\ast$d)
\begin{CompactList}\small\item\em read a directory similar to the POSIX call readdir The readdir() function returns a pointer to a dirent structure representing the next directory entry in the directory stream pointed to by dirp. It returns NULL on reaching the end of the directory stream or if an error occurred. struct dirent \{ ino\_\-t d\_\-ino; // inode number off\_\-t d\_\-off; // offset to the next dirent unsigned short d\_\-reclen; // length of this record unsigned char d\_\-type; // type of file; not supported // by all file system types char d\_\-name[256]; // filename \}; \item\end{CompactList}\item 
int \bf{gfal\_\-closedir} (DIR $\ast$d)
\begin{CompactList}\small\item\em close a file descriptor of a directory similar to the POSIX call closedir close the file descriptor of an opendir call \item\end{CompactList}\item 
int \bf{gfal\_\-open} (const char $\ast$path, int flag,...)
\begin{CompactList}\small\item\em open a file similar to the POSIX call open opens a file according to the value of flags. \item\end{CompactList}\item 
int \bf{gfal\_\-creat} (const char $\ast$filename, mode\_\-t mode)
\begin{CompactList}\small\item\em create a new file or truncate an existing one similar to the POSIX call creat opens a file according to the value of flags. \item\end{CompactList}\item 
int \bf{gfal\_\-read} (int fd, void $\ast$buff, size\_\-t s\_\-buff)
\begin{CompactList}\small\item\em read a file similar to the POSIX call read gfal\_\-read reads up to size bytes from the file descriptor fd into the buffer pointed by buff \item\end{CompactList}\item 
int \bf{gfal\_\-write} (int fd, const void $\ast$buff, size\_\-t s\_\-buff)
\begin{CompactList}\small\item\em write a file similar to the POSIX call write gfal\_\-write writes size bytes from the buffer pointed by buff to the file descriptor fd. \item\end{CompactList}\item 
int \bf{gfal\_\-close} (int fd)
\begin{CompactList}\small\item\em close a file similar to the POSIX call close closes the file whose descriptor fd is the one returned by gfal\_\-open. \item\end{CompactList}\item 
int \bf{gfal\_\-symlink} (const char $\ast$oldpath, const char $\ast$newpath)
\begin{CompactList}\small\item\em make a new name for a file \item\end{CompactList}\item 
off\_\-t \bf{gfal\_\-lseek} (int fd, off\_\-t offset, int whence)
\begin{CompactList}\small\item\em set position in a file \item\end{CompactList}\item 
ssize\_\-t \bf{gfal\_\-getxattr} (const char $\ast$path, const char $\ast$name, void $\ast$value, size\_\-t size)
\begin{CompactList}\small\item\em retrieve an extended attribute value \item\end{CompactList}\item 
ssize\_\-t \textbf{gfal\_\-readlink} (const char $\ast$path, char $\ast$buff, size\_\-t buffsiz)\label{group__posix__group_g3a5bc0f156017008ab7fdb92cb6f9c80}

\item 
int \bf{gfal\_\-unlink} (const char $\ast$path)
\begin{CompactList}\small\item\em delete a name and possibly the file it refers to \item\end{CompactList}\item 
ssize\_\-t \bf{gfal\_\-listxattr} (const char $\ast$path, char $\ast$list, size\_\-t size)
\begin{CompactList}\small\item\em list all extended attributes \item\end{CompactList}\item 
int \bf{gfal\_\-setxattr} (const char $\ast$path, const char $\ast$name, const void $\ast$value, size\_\-t size, int flags)
\begin{CompactList}\small\item\em set an extended attribute to a given value similar to the setxattr standard call of libattr \item\end{CompactList}\item 
int \bf{gfal\_\-removexattr} (const char $\ast$path, const char $\ast$name)
\begin{CompactList}\small\item\em removes the extended attribute identified by name and associated with the given path in the filesystem similar to the removexattr standard call of libattr \item\end{CompactList}\item 
void \bf{gfal\_\-posix\_\-print\_\-error} ()
\item 
int \textbf{gfal\_\-flush} (int fd)\label{group__posix__group_gae43f250cf82271ee59b19d008b29ad8}

\item 
void \bf{gfal\_\-posix\_\-release\_\-error} ()
\item 
int \textbf{gfal\_\-set\_\-parameter\_\-string} (const char $\ast$module, const char $\ast$name, const char $\ast$value)\label{group__posix__group_g1aa9cc5bf3e6e9938b5ffbdd1ad8a302}

\item 
int \textbf{gfal\_\-get\_\-parameter} (const char $\ast$module, const char $\ast$name, char $\ast$buff\_\-value, size\_\-t s\_\-buff)\label{gfal__posix__ng_8c_85aca9c2894e49c38c7c8592894e67a6}

\item 
int \textbf{gfal\_\-set\_\-parameter\_\-int} (const char $\ast$module, const char $\ast$name, int value)\label{group__posix__group_g4b27a01e6f158b40d4859a86cdf41b7f}

\item 
int \textbf{gfal\_\-get\_\-parameter\_\-int} (const char $\ast$module, const char $\ast$name)\label{group__posix__group_gefbd5409747e219b938e93d8576aa7a0}

\item 
void \bf{gfal\_\-posix\_\-clear\_\-error} ()
\item 
int \bf{gfal\_\-posix\_\-code\_\-error} ()
\item 
int \bf{gfal\_\-posix\_\-check\_\-error} ()
\item 
char $\ast$ \bf{gfal\_\-posix\_\-strerror\_\-r} (char $\ast$buff\_\-err, size\_\-t s\_\-err)
\item 
void \textbf{gfal\_\-set\_\-nobdii} (int value)\label{gfal__posix__ng_8c_a3f35e131b2db4c3b742a29790e08bdf}

\item 
int \textbf{gfal\_\-is\_\-nobdii} ()\label{gfal__posix__ng_8c_0d2a0557bdb571ccb85c6ab5c05ae56f}

\end{CompactItemize}


\subsection{Detailed Description}
new file for the posix interface 

\begin{Desc}
\item[Author:]Devresse Adrien \end{Desc}
\begin{Desc}
\item[Date:]09/05/2011 \end{Desc}


\subsection{Function Documentation}
\index{gfal_posix_ng.c@{gfal\_\-posix\_\-ng.c}!gfal_mkdirp@{gfal\_\-mkdirp}}
\index{gfal_mkdirp@{gfal\_\-mkdirp}!gfal_posix_ng.c@{gfal\_\-posix\_\-ng.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-mkdirp (const char $\ast$ {\em path}, mode\_\-t {\em mode})}\label{gfal__posix__ng_8c_412d6606fcf2f735747f278eab8af19a}


create a new directory creates a new directory with permission bits taken from mode. The default behavior of this command is recursive, like \char`\"{}mkdir -p\char`\"{}. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em path}]: url of the directory, can be in supported protocols (lfn, srm, file, guid,..) \item[{\em mode}]: right of the directory ( depend of the implementation ) \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]return 0 if success else -1 and errno is set call \doxyref{gfal\_\-posix\_\-check\_\-error()}{p.}{group__posix__group_g57ced6eae7afd2d0413988da02fe0373} to check it \end{Desc}
