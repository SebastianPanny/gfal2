\section{/home/adevress/myworkspace/gfal/src/common/mds/gfal\_\-common\_\-mds\_\-ldap\_\-internal.c File Reference}
\label{gfal__common__mds__ldap__internal_8c}\index{/home/adevress/myworkspace/gfal/src/common/mds/gfal_common_mds_ldap_internal.c@{/home/adevress/myworkspace/gfal/src/common/mds/gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}}
file for the internal ldap query by gfal, without is interface 

{\tt \#include $<$errno.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$glib.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$lber.h$>$}\par
{\tt \#include $<$ldap.h$>$}\par
{\tt \#include \char`\"{}gfal\_\-common\_\-mds\_\-ldap\_\-internal.h\char`\"{}}\par
{\tt \#include \char`\"{}gfal\_\-common\_\-mds\_\-ldap\_\-internal\_\-layer.h\char`\"{}}\par
{\tt \#include \char`\"{}../gfal\_\-common\_\-errverbose.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
LDAP $\ast$ \textbf{gfal\_\-mds\_\-ldap\_\-connect} (const char $\ast$uri, GError $\ast$$\ast$err)\label{gfal__common__mds__ldap__internal_8c_22cdd368742233b06e12153471ffbb6f}

\item 
int \bf{gfal\_\-mds\_\-ldap\_\-search} (LDAP $\ast$ld, const char $\ast$basedn, const char $\ast$filter, char $\ast$$\ast$tabattr, LDAPMessage $\ast$$\ast$res, GError $\ast$$\ast$err)
\item 
int \bf{gfal\_\-mds\_\-get\_\-srm\_\-types\_\-endpoint} (LDAP $\ast$ld, LDAPMessage $\ast$result, gfal\_\-mds\_\-endpoint $\ast$endpoints, size\_\-t s\_\-endpoint, GError $\ast$$\ast$err)
\item 
int \bf{gfal\_\-mds\_\-get\_\-ldapuri} (char $\ast$buff, size\_\-t s\_\-buff, GError $\ast$$\ast$err)
\item 
void \textbf{gfal\_\-mds\_\-ldap\_\-disconnect} (LDAP $\ast$ld)\label{gfal__common__mds__ldap__internal_8c_6faad786f3e54dba0b195be6d3d37268}

\item 
int \bf{gfal\_\-mds\_\-bdii\_\-get\_\-srm\_\-endpoint} (const char $\ast$base\_\-url, gfal\_\-mds\_\-endpoint $\ast$endpoints, size\_\-t s\_\-endpoint, GError $\ast$$\ast$err)
\end{CompactItemize}


\subsection{Detailed Description}
file for the internal ldap query by gfal, without is interface 

\begin{Desc}
\item[Author:]Adrien Devresse \end{Desc}
\begin{Desc}
\item[Date:]05/09/2011 \end{Desc}


\subsection{Function Documentation}
\index{gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}!gfal_mds_bdii_get_srm_endpoint@{gfal\_\-mds\_\-bdii\_\-get\_\-srm\_\-endpoint}}
\index{gfal_mds_bdii_get_srm_endpoint@{gfal\_\-mds\_\-bdii\_\-get\_\-srm\_\-endpoint}!gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-mds\_\-bdii\_\-get\_\-srm\_\-endpoint (const char $\ast$ {\em base\_\-url}, gfal\_\-mds\_\-endpoint $\ast$ {\em endpoints}, size\_\-t {\em s\_\-endpoint}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__mds__ldap__internal_8c_90e81f1cb8465df2bc1be169b9beb47e}


resolve the SRM endpoint associated with a given base\_\-url with the bdii \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em base\_\-url}]: basic url to resolve \item[{\em endpoints}]: table of gfal\_\-mds\_\-endpoint to set with a size of s\_\-endpoint \item[{\em s\_\-endpoint}]: maximum number of endpoints to set \item[{\em err,:}]Gerror system for the report of the errors. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]: number of endpoints set or -1 if error \end{Desc}
\index{gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}!gfal_mds_get_ldapuri@{gfal\_\-mds\_\-get\_\-ldapuri}}
\index{gfal_mds_get_ldapuri@{gfal\_\-mds\_\-get\_\-ldapuri}!gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-mds\_\-get\_\-ldapuri (char $\ast$ {\em buff}, size\_\-t {\em s\_\-buff}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__mds__ldap__internal_8c_b93065c14371b4ed95d7b5ba6557f237}


get the current ldap URI \index{gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}!gfal_mds_get_srm_types_endpoint@{gfal\_\-mds\_\-get\_\-srm\_\-types\_\-endpoint}}
\index{gfal_mds_get_srm_types_endpoint@{gfal\_\-mds\_\-get\_\-srm\_\-types\_\-endpoint}!gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-mds\_\-get\_\-srm\_\-types\_\-endpoint (LDAP $\ast$ {\em ld}, LDAPMessage $\ast$ {\em result}, gfal\_\-mds\_\-endpoint $\ast$ {\em endpoints}, size\_\-t {\em s\_\-endpoint}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__mds__ldap__internal_8c_058a2581cea3066c602941b334b8ec06}


parse the result of a query to get the srm endpoint \index{gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}!gfal_mds_ldap_search@{gfal\_\-mds\_\-ldap\_\-search}}
\index{gfal_mds_ldap_search@{gfal\_\-mds\_\-ldap\_\-search}!gfal_common_mds_ldap_internal.c@{gfal\_\-common\_\-mds\_\-ldap\_\-internal.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int gfal\_\-mds\_\-ldap\_\-search (LDAP $\ast$ {\em ld}, const char $\ast$ {\em basedn}, const char $\ast$ {\em filter}, char $\ast$$\ast$ {\em tabattr}, LDAPMessage $\ast$$\ast$ {\em res}, GError $\ast$$\ast$ {\em err})}\label{gfal__common__mds__ldap__internal_8c_cddb3a7427f2316670b0d71ff94dd6ee}


Execute a ldap query on a connected bdii 