<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CERN org.glite.Gfal: /home/adevress/myworkspace/gfal/src/posix/gfal_posix_ng.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>/home/adevress/myworkspace/gfal/src/posix/gfal_posix_ng.c File Reference</h1>new file for the posix interface <a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="gfal__constants_8h-source.html">common/gfal_constants.h</a>&gt;</code><br>
<code>#include &quot;gfal_posix_api.h&quot;</code><br>
<code>#include &quot;gfal_posix_internal.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g33d6a4a93117a6c07405aa6ac0d42122">gfal_access</a> (const char *path, int amode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">test access to the given file  <a href="group__posix__group.html#g33d6a4a93117a6c07405aa6ac0d42122"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#geed11d6e570d3a22977d860c2b000285">gfal_chmod</a> (const char *path, mode_t mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">change the right for a file or a folder  <a href="group__posix__group.html#geed11d6e570d3a22977d860c2b000285"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gc56b24046cef203517f30023a999bf1c">gfal_rename</a> (const char *oldpath, const char *newpath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">change the name or location of a file oldpath and newpath need to be on the same plugin this functions work only with plugins (lfc ) and local files  <a href="group__posix__group.html#gc56b24046cef203517f30023a999bf1c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g1d8c86d522d5dd26ee7ddcd9c6925964">gfal_stat</a> (const char *path, struct stat *buff)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">informations about a file These functions return information about a file. No permissions are required on the file itself, but — in the case of stat() and lstat() — execute (search) permission is required on all of the directories in path that lead to the file.  <a href="group__posix__group.html#g1d8c86d522d5dd26ee7ddcd9c6925964"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g347f867802a33bc04fdfb769da857103"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_lstat" ref="g347f867802a33bc04fdfb769da857103" args="(const char *path, struct stat *buff)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g347f867802a33bc04fdfb769da857103">gfal_lstat</a> (const char *path, struct stat *buff)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gfal_lstat is identical to <a class="el" href="group__posix__group.html#g1d8c86d522d5dd26ee7ddcd9c6925964">gfal_stat</a> except for symbolic links. In this case, the link itself is statted and not followed. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gfal__posix__ng_8c.html#412d6606fcf2f735747f278eab8af19a">gfal_mkdirp</a> (const char *path, mode_t mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">create a new directory creates a new directory with permission bits taken from mode. The default behavior of this command is recursive, like "mkdir -p".  <a href="#412d6606fcf2f735747f278eab8af19a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g6f6affcf386900efc5443a9c97556a57">gfal_mkdir</a> (const char *path, mode_t mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gcc4b6347640a722674c2d6df437490df">gfal_rmdir</a> (const char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">removes a directory if it is empty remove an existing directory, return error if the dir is not empty  <a href="group__posix__group.html#gcc4b6347640a722674c2d6df437490df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">DIR *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g004ad5efbd544da820823e597e57be92">gfal_opendir</a> (const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open a directory  <a href="group__posix__group.html#g004ad5efbd544da820823e597e57be92"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">dirent *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g2a8ed205f7748d7817a18521268a1f2d">gfal_readdir</a> (DIR *d)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">read a directory similar to the POSIX call readdir The readdir() function returns a pointer to a dirent structure representing the next directory entry in the directory stream pointed to by dirp. It returns NULL on reaching the end of the directory stream or if an error occurred. struct dirent { ino_t d_ino; // inode number off_t d_off; // offset to the next dirent unsigned short d_reclen; // length of this record unsigned char d_type; // type of file; not supported // by all file system types char d_name[256]; // filename };  <a href="group__posix__group.html#g2a8ed205f7748d7817a18521268a1f2d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g1c97c21d23c919b2647f17bbc8b79db2">gfal_closedir</a> (DIR *d)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">close a file descriptor of a directory similar to the POSIX call closedir close the file descriptor of an opendir call  <a href="group__posix__group.html#g1c97c21d23c919b2647f17bbc8b79db2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gedd0cf1c9158d27dd3a9c4413ca04cfa">gfal_open</a> (const char *path, int flag,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open a file similar to the POSIX call open opens a file according to the value of flags.  <a href="group__posix__group.html#gedd0cf1c9158d27dd3a9c4413ca04cfa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g5fcdc6f3e7911787be049e20b6ab19b8">gfal_creat</a> (const char *filename, mode_t mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">create a new file or truncate an existing one similar to the POSIX call creat opens a file according to the value of flags.  <a href="group__posix__group.html#g5fcdc6f3e7911787be049e20b6ab19b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gbfe92147d0bf650be3e471747ef2096f">gfal_read</a> (int fd, void *buff, size_t s_buff)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">read a file similar to the POSIX call read gfal_read reads up to size bytes from the file descriptor fd into the buffer pointed by buff  <a href="group__posix__group.html#gbfe92147d0bf650be3e471747ef2096f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g7237b84e87965301f5030058eca38333">gfal_write</a> (int fd, const void *buff, size_t s_buff)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write a file similar to the POSIX call write gfal_write writes size bytes from the buffer pointed by buff to the file descriptor fd.  <a href="group__posix__group.html#g7237b84e87965301f5030058eca38333"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g83b88bd27def4c4e2fdfea3c5bbf88b4">gfal_close</a> (int fd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">close a file similar to the POSIX call close closes the file whose descriptor fd is the one returned by gfal_open.  <a href="group__posix__group.html#g83b88bd27def4c4e2fdfea3c5bbf88b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gc9b6944315e891beca5a56d15292658f">gfal_symlink</a> (const char *oldpath, const char *newpath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">make a new name for a file  <a href="group__posix__group.html#gc9b6944315e891beca5a56d15292658f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">off_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g8ba4e1df5f2e6439641c56f245d5ce73">gfal_lseek</a> (int fd, off_t offset, int whence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set position in a file  <a href="group__posix__group.html#g8ba4e1df5f2e6439641c56f245d5ce73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gc793467bb55cd10d991ee1023b321dae">gfal_getxattr</a> (const char *path, const char *name, void *value, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">retrieve an extended attribute value  <a href="group__posix__group.html#gc793467bb55cd10d991ee1023b321dae"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3a5bc0f156017008ab7fdb92cb6f9c80"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_readlink" ref="g3a5bc0f156017008ab7fdb92cb6f9c80" args="(const char *path, char *buff, size_t buffsiz)" -->
ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_readlink</b> (const char *path, char *buff, size_t buffsiz)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gdeb4c6cc47f507da3e3b498374e308fb">gfal_unlink</a> (const char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">delete a name and possibly the file it refers to  <a href="group__posix__group.html#gdeb4c6cc47f507da3e3b498374e308fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gb3af1720532d8ad4798b08fa0868f4c7">gfal_listxattr</a> (const char *path, char *list, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list all extended attributes  <a href="group__posix__group.html#gb3af1720532d8ad4798b08fa0868f4c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g79d4f4e15b5915fe7f09b57cf09491c5">gfal_setxattr</a> (const char *path, const char *name, const void *value, size_t size, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set an extended attribute to a given value similar to the setxattr standard call of libattr  <a href="group__posix__group.html#g79d4f4e15b5915fe7f09b57cf09491c5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g8ea3cb3121985599bd7453f28891748a">gfal_removexattr</a> (const char *path, const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">removes the extended attribute identified by name and associated with the given path in the filesystem similar to the removexattr standard call of libattr  <a href="group__posix__group.html#g8ea3cb3121985599bd7453f28891748a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g03fcc29bc5d79dc2f65010846b0db024">gfal_posix_print_error</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gae43f250cf82271ee59b19d008b29ad8"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_flush" ref="gae43f250cf82271ee59b19d008b29ad8" args="(int fd)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_flush</b> (int fd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g85337290460234042db0adfd54514df9">gfal_posix_release_error</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1e2e8a22bfc4927e4d4ca91d501633a5"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_set_parameter_string" ref="g1e2e8a22bfc4927e4d4ca91d501633a5" args="(const char *namespace, const char *key, const char *value)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_set_parameter_string</b> (const char *namespace, const char *key, const char *value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g9cddf85bdb0e56b21c8bc57583ecd5fa"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_get_parameter_string" ref="g9cddf85bdb0e56b21c8bc57583ecd5fa" args="(const char *namespace, const char *key)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_get_parameter_string</b> (const char *namespace, const char *key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb2f2e3e4ce52a9b4e306a8af2ce1642b"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_set_parameter_int" ref="gb2f2e3e4ce52a9b4e306a8af2ce1642b" args="(const char *module, const char *name, int value)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_set_parameter_int</b> (const char *module, const char *name, int value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g87fe88667990c1c3b288e62d708831ee"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_get_parameter_int" ref="g87fe88667990c1c3b288e62d708831ee" args="(const char *module, const char *name)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_get_parameter_int</b> (const char *module, const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1566e98417764b361a733c55ea4d5c2d"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_set_parameter_boolean" ref="g1566e98417764b361a733c55ea4d5c2d" args="(const char *namespace, const char *key, int value)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_set_parameter_boolean</b> (const char *namespace, const char *key, int value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2b30e8c9e59dada006127568d016cd1d"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_get_parameter_boolean" ref="g2b30e8c9e59dada006127568d016cd1d" args="(const char *namespace, const char *key)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_get_parameter_boolean</b> (const char *namespace, const char *key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#ga8252652c1dc86d71ba37b401fb675f9">gfal_posix_clear_error</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gc6149b0b3c9c8af05789169a18832634">gfal_posix_code_error</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g57ced6eae7afd2d0413988da02fe0373">gfal_posix_check_error</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g2a9e2951c934dd1c3205a89c0d25ac29">gfal_posix_strerror_r</a> (char *buff_err, size_t s_err)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gb1918905381341a2dd35916d86d43449">gfal_pread</a> (int fd, void *buffer, size_t count, off_t offset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g2de061fcdbdec58660d5917a90772d6d">gfal_pwrite</a> (int fd, const void *buffer, size_t count, off_t offset)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
new file for the posix interface 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Devresse Adrien </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>09/05/2011 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="412d6606fcf2f735747f278eab8af19a"></a><!-- doxytag: member="gfal_posix_ng.c::gfal_mkdirp" ref="412d6606fcf2f735747f278eab8af19a" args="(const char *path, mode_t mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_mkdirp           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
create a new directory creates a new directory with permission bits taken from mode. The default behavior of this command is recursive, like "mkdir -p". 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>: url of the directory, can be in supported protocols (lfn, srm, file, guid,..) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>: right of the directory ( depend of the implementation ) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>return 0 if success else -1 and errno is set call <a class="el" href="group__posix__group.html#g57ced6eae7afd2d0413988da02fe0373">gfal_posix_check_error()</a> to check it </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Thu Nov 10 15:40:58 2011 for CERN org.glite.Gfal by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
