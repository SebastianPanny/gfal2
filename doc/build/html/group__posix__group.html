<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CERN org.glite.Gfal: all POSIX style function</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>all POSIX style function</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g33d6a4a93117a6c07405aa6ac0d42122">gfal_access</a> (const char *, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">test access to the given file  <a href="#g33d6a4a93117a6c07405aa6ac0d42122"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gdfeeecb2052d81e65bcc09903655991b">gfal_chmod</a> (const char *, mode_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set rights of the file/dir  <a href="#gdfeeecb2052d81e65bcc09903655991b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g83b88bd27def4c4e2fdfea3c5bbf88b4">gfal_close</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">close the current file descriptor  <a href="#g83b88bd27def4c4e2fdfea3c5bbf88b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g1c97c21d23c919b2647f17bbc8b79db2">gfal_closedir</a> (DIR *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gfal_closedir - close a directory  <a href="#g1c97c21d23c919b2647f17bbc8b79db2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g5fcdc6f3e7911787be049e20b6ab19b8">gfal_creat</a> (const char *, mode_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">creates a new file or truncates an existing one  <a href="#g5fcdc6f3e7911787be049e20b6ab19b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g48783e60cafa1a3bf9aa2170b99f9b08"></a><!-- doxytag: member="posix_group::gfal_creat64" ref="g48783e60cafa1a3bf9aa2170b99f9b08" args="(const char *, mode_t)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g48783e60cafa1a3bf9aa2170b99f9b08">gfal_creat64</a> (const char *, mode_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as create for large file <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">off_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g8ba4e1df5f2e6439641c56f245d5ce73">gfal_lseek</a> (int, off_t, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gfal_lseek - position a file  <a href="#g8ba4e1df5f2e6439641c56f245d5ce73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g6f6affcf386900efc5443a9c97556a57">gfal_mkdir</a> (const char *, mode_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">create a new directory creates a new directory with permission bits taken from mode. The default behavior of this command is recursive, like "mkdir -p".  <a href="#g6f6affcf386900efc5443a9c97556a57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g6a431a0bdd01baf8cadbdcaa98b1c622">gfal_open</a> (const char *, int, mode_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">opens a file according to the value of flags  <a href="#g6a431a0bdd01baf8cadbdcaa98b1c622"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbed417acea7f862ea1977417ed842ef4"></a><!-- doxytag: member="posix_group::gfal_open64" ref="gbed417acea7f862ea1977417ed842ef4" args="(const char *, int, mode_t)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_open64</b> (const char *, int, mode_t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">DIR *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g7e6d16651dbce5d684c53f82349e0306">gfal_opendir</a> (const char *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open a directory  <a href="#g7e6d16651dbce5d684c53f82349e0306"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gaa6bfe36f33b86e489b798aed96912de"></a><!-- doxytag: member="posix_group::gfal_read" ref="gaa6bfe36f33b86e489b798aed96912de" args="(int, void *, size_t)" -->
ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_read</b> (int, void *, size_t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">dirent *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gad7e253fad72213c19e72c02b869ba7e">gfal_readdir</a> (DIR *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">read a directory  <a href="#gad7e253fad72213c19e72c02b869ba7e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g34dc6129530d6bf9e5836ef22c0d2792">gfal_rename</a> (const char *, const char *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">change the name or location of a file oldpath and newpath need to be on the same catalog this functions work only with catalogs (lfc ) and local files  <a href="#g34dc6129530d6bf9e5836ef22c0d2792"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#gcc4b6347640a722674c2d6df437490df">gfal_rmdir</a> (const char *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">removes a directory if it is empty remove an existing directory, return error if the dir is not empty  <a href="#gcc4b6347640a722674c2d6df437490df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g45a23756f2c79a7e07488bb3fb2fc35e"></a><!-- doxytag: member="posix_group::gfal_setfilchg" ref="g45a23756f2c79a7e07488bb3fb2fc35e" args="(int, const void *, size_t)" -->
ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_setfilchg</b> (int, const void *, size_t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gdeb4c6cc47f507da3e3b498374e308fb"></a><!-- doxytag: member="posix_group::gfal_unlink" ref="gdeb4c6cc47f507da3e3b498374e308fb" args="(const char *)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_unlink</b> (const char *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g00c2d64894ae81c05846b06c84727ae9"></a><!-- doxytag: member="posix_group::gfal_write" ref="g00c2d64894ae81c05846b06c84727ae9" args="(int, const void *, size_t)" -->
ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_write</b> (int, const void *, size_t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g39c7d0b6d366fdb0f218439ed3c3bb37"></a><!-- doxytag: member="posix_group::gfal_lseek64" ref="g39c7d0b6d366fdb0f218439ed3c3bb37" args="(int, off64_t, int)" -->
off64_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_lseek64</b> (int, off64_t, int)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g347f867802a33bc04fdfb769da857103"></a><!-- doxytag: member="posix_group::gfal_lstat" ref="g347f867802a33bc04fdfb769da857103" args="(const char *, struct stat *)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g347f867802a33bc04fdfb769da857103">gfal_lstat</a> (const char *, struct stat *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gfal_lstat is identical to <a class="el" href="group__posix__group.html#g1d8c86d522d5dd26ee7ddcd9c6925964">gfal_stat</a> except for symbolic links. In this case, the link itself is statted and not followed. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g739ca4985a67e0fc4fc253f42df2638c"></a><!-- doxytag: member="posix_group::gfal_lstat64" ref="g739ca4985a67e0fc4fc253f42df2638c" args="(const char *, struct stat64 *)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_lstat64</b> (const char *, struct stat64 *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__posix__group.html#g1d8c86d522d5dd26ee7ddcd9c6925964">gfal_stat</a> (const char *, struct stat *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">informations about a file These functions return information about a file. No permissions are required on the file itself, but — in the case of stat() and lstat() — execute (search) permission is required on all of the directories in path that lead to the file.  <a href="#g1d8c86d522d5dd26ee7ddcd9c6925964"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb40e2d23618763284ab4a1fb1a06a880"></a><!-- doxytag: member="posix_group::gfal_stat64" ref="gb40e2d23618763284ab4a1fb1a06a880" args="(const char *, struct stat64 *)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>gfal_stat64</b> (const char *, struct stat64 *)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g33d6a4a93117a6c07405aa6ac0d42122"></a><!-- doxytag: member="POSIX_API.c::gfal_access" ref="g33d6a4a93117a6c07405aa6ac0d42122" args="(const char *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_access           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>amode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
test access to the given file 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>can be in supported protocols lfn, srm, file, guid </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>This routine return 0 if the operation was successful, or -1 if error occured and errno is set, call <a class="el" href="gfal__posix__ng_8c.html#03fcc29bc5d79dc2f65010846b0db024">gfal_posix_print_error()</a> to check it. <br>
<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Search permission is denied on a component of the path prefix or specified access to the file itself is denied.</li><li>EFAULT: path is a NULL pointer.</li><li>ENOTDIR: A component of path prefix is not a directory.</li><li>ECOMM: Communication error</li><li>EPROTONOSUPPORT: Access method not supported.</li><li>EINVAL: path has an invalid syntax or amode is invalid. </li></ul>
</li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="gdfeeecb2052d81e65bcc09903655991b"></a><!-- doxytag: member="POSIX_API.c::gfal_chmod" ref="gdfeeecb2052d81e65bcc09903655991b" args="(const char *, mode_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_chmod           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set rights of the file/dir 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>: path of the file or the folder concerned : must be a Catalog URL ( lfn: ), a guid, or a local file URL ( file: ) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>: right to configure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>return 0 if success else -1 and errno is set, call <a class="el" href="gfal__posix__ng_8c.html#03fcc29bc5d79dc2f65010846b0db024">gfal_posix_print_error()</a> to check it<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Search permission is denied on a component of the path prefix or specified access to the file itself is denied.</li><li>EFAULT: path is a NULL pointer.</li><li>ENOTDIR: A component of path prefix is not a directory.</li><li>ECOMM: Communication error</li><li>EPROTONOSUPPORT: Access method not supported.</li><li>EINVAL: path has an invalid syntax or amode is invalid. </li></ul>
</li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g83b88bd27def4c4e2fdfea3c5bbf88b4"></a><!-- doxytag: member="POSIX_API.c::gfal_close" ref="g83b88bd27def4c4e2fdfea3c5bbf88b4" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_close           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
close the current file descriptor 
<p>
close the file whose descriptor fd is the one returned by gfal_open. <dl compact><dt><b>Returns:</b></dt><dd>This routine returns 0 if the operation was successful or -1 if the operation failed. In the latter case, errno is set appropriately.<ul>
<li>ERRNO list : <br>
<ul>
<li>EBADF: fd is not a valid file descriptor</li><li>ECOMM: Communication error.</li><li>EPROTONOSUPPORT: Access method not supported. </li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g1c97c21d23c919b2647f17bbc8b79db2"></a><!-- doxytag: member="POSIX_API.c::gfal_closedir" ref="g1c97c21d23c919b2647f17bbc8b79db2" args="(DIR *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_closedir           </td>
          <td>(</td>
          <td class="paramtype">DIR *&nbsp;</td>
          <td class="paramname"> <em>d</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
gfal_closedir - close a directory 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>file handle ( return by opendir ) to close </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if success else negative value and errno is set ( ( gfal_posix_error_print() )</dd></dl>
<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>EBADF : bad file descriptor<ul>
<li>ECOMM : Communication error </li></ul>
</li></ul>
</li></ul>
</li></ul>

</div>
</div><p>
<a class="anchor" name="g5fcdc6f3e7911787be049e20b6ab19b8"></a><!-- doxytag: member="POSIX_API.c::gfal_creat" ref="g5fcdc6f3e7911787be049e20b6ab19b8" args="(const char *, mode_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_creat           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
creates a new file or truncates an existing one 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>specifies the file name: either a logical file name, a guid, an SURL or a TURL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>is used only if the file is created </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>This routine returns a write-only file descriptor if the operation was successful or -1 if the operation failed. In the latter case, errno is set appropriately<ul>
<li>ERRNO list : <br>
<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Search permission is denied on a component of the path prefix or specified access to the file itself is denied.</li><li>EFAULT: path is a NULL pointer.</li><li>EBUSY: Device or resource busy. Happens if you try to open in write mode a CASTOR file that is in an active migration stream</li><li>ENOTDIR: A component of path prefix is not a directory.</li><li>EINVAL: path has an invalid syntax or amode is invalid.</li><li>ECOMM: Communication error.</li><li>EPROTONOSUPPORT: Access method not supported. </li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g8ba4e1df5f2e6439641c56f245d5ce73"></a><!-- doxytag: member="POSIX_API.c::gfal_lseek" ref="g8ba4e1df5f2e6439641c56f245d5ce73" args="(int, off_t, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">off_t gfal_lseek           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
gfal_lseek - position a file 
<p>
gfal_lseek positions/repositions to offset the file associated with the descriptor fd generated by a previous gfal_open. whence indicates how to interpret the offset value:<p>
<ul>
<li>SEEK_SET The offset is set from beginning of file.</li><li>SEEK_CUR The offset is added to current position.</li><li>SEEK_END The offset is added to current file size.</li></ul>
<p>
<dl compact><dt><b>Returns:</b></dt><dd>This routine returns the actual offset from the beginning of the file if the operation was successful or -1 if the operation failed. In the latter case, errno is set appropriately.<ul>
<li>ERRORS :<ul>
<li>EBADF fd is not a valid file descriptor.</li><li>EINVAL incorrect value for whence.</li><li>EFBIG Resulting offset is too big to fit in off_t.</li><li>ECOMM Communication error.</li><li>EPROTONOSUPPORT Access method not supported.</li></ul>
</li></ul>
</dd></dl>
gfal_lseek64 performs the same function on large files using off64_t rather than off_t. 
</div>
</div><p>
<a class="anchor" name="g6f6affcf386900efc5443a9c97556a57"></a><!-- doxytag: member="POSIX_API.c::gfal_mkdir" ref="g6f6affcf386900efc5443a9c97556a57" args="(const char *, mode_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_mkdir           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
create a new directory creates a new directory with permission bits taken from mode. The default behavior of this command is recursive, like "mkdir -p". 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>: url of the directory. Can be surl ( srm://), local (<a href="file://">file://</a>), or catalog's url (lfc:, ....) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>: right of the directory ( depend of the implementation ) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>return 0 if success else -1 and errno is set ( and <a class="el" href="gfal__posix__ng_8c.html#03fcc29bc5d79dc2f65010846b0db024">gfal_posix_print_error()</a> )<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Write perimission is denied for newpath or oldpath, or, search permission is denied for one of the directories in the path prefix of oldpath or newpath, or oldpath is a directory and does not allow write permission (needed to update the .. entry)</li><li>EFAULT: oldpath or newpath is a NULL pointer.</li><li>ENOTDIR: A component of path prefix is not a directory.<ul>
<li>EEXIST: file already exist</li></ul>
</li><li>ECOMM: Communication error</li><li>EPROTONOSUPPORT: oldpath or newpath has a syntax error or the protocol speficied is not supported</li><li>EINVAL: oldpath or newpath has an invalid syntax . </li></ul>
</li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g6a431a0bdd01baf8cadbdcaa98b1c622"></a><!-- doxytag: member="POSIX_API.c::gfal_open" ref="g6a431a0bdd01baf8cadbdcaa98b1c622" args="(const char *, int, mode_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_open           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
opens a file according to the value of flags 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>specifies the file name: either a logical file name, a guid, an SURL or a TURL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>value is built by OR’ing the bits defined in &lt;fcntl.h&gt; but one and only one of the first three flags below must be used<ul>
<li>O_RDONLY open for reading only<ul>
<li>O_WRONLY open for writing only</li></ul>
</li><li>O_RDWR open for reading and writing<ul>
<li>O_CREAT If the file exists already and O_EXCL is also set, gfal_open will fail.</li><li>O_LARGEFILE allows files whose sizes cannot be represented in 31 bits to be opened </li></ul>
</li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>usef only if file is created </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>This routine returns the file descriptor if the operation was successful or -1 if the operation failed. In the latter case, errno is set appropriately<ul>
<li>ERRNO list : <br>
<ul>
<li>EACCES: Search permission is denied on a component of the path prefix or specified access to the file itself is denied.</li><li>EFAULT: path is a NULL pointer.</li><li>ENOTDIR: A component of path prefix is not a directory.</li><li>EINVAL: path has an invalid syntax or amode is invalid.</li><li>ECOMM: Communication error.</li><li>EPROTONOSUPPORT: Access method not supported. </li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g7e6d16651dbce5d684c53f82349e0306"></a><!-- doxytag: member="POSIX_API.c::gfal_opendir" ref="g7e6d16651dbce5d684c53f82349e0306" args="(const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIR * gfal_opendir           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
open a directory 
<p>
opens a directory to be used in subsequent gfal_readdir operations the url supported are : local files, surls, catalog url ( lfc,...) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>of the directory to open </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>file descriptor DIR* if success else NULL if error and errno is set ( gfal_posix_error_print() )</dd></dl>
<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Write perimission is denied for path, or, search permission is denied for one of the directories in the path prefix of oldpath or newpath, or oldpath is a directory and does not allow write permission (needed to update the .. entry)</li><li>EFAULT: path is a NULL pointer.<ul>
<li>ENOTEMPTY : newpath is a nonempty directory, that is, contains entries other than "." and ".."</li></ul>
</li><li>ENOTDIR: path or a component in path is not a directory.<ul>
<li>EMFILE: too many file open by the process</li></ul>
</li><li>ECOMM: Communication error</li><li>EPROTONOSUPPORT: path has a syntax error or the protocol speficied is not supported</li><li>EINVAL: path has an invalid syntax . </li></ul>
</li></ul>
</li></ul>

</div>
</div><p>
<a class="anchor" name="gad7e253fad72213c19e72c02b869ba7e"></a><!-- doxytag: member="POSIX_API.c::gfal_readdir" ref="gad7e253fad72213c19e72c02b869ba7e" args="(DIR *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dirent * gfal_readdir           </td>
          <td>(</td>
          <td class="paramtype">DIR *&nbsp;</td>
          <td class="paramname"> <em>dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
read a directory 
<p>
The readdir() function returns a pointer to a dirent structure representing the next directory entry in the directory stream pointed to by dirp. It returns NULL on reaching the end of the directory stream or if an error occurred. struct dirent { ino_t d_ino; // inode number off_t d_off; // offset to the next dirent unsigned short d_reclen; // length of this record unsigned char d_type; // type of file; not supported // by all file system types char d_name[256]; // filename };<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>file handle ( return by opendir ) to read </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to struct dirent with file information or NULL if end of list or error ( errno is set ( gfal_posix_error_print() ) ) </dd></dl>
<dl compact><dt><b>Warning:</b></dt><dd>struct dirents are allocated statically, do not use free() on them</dd></dl>
<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>EBADF : bad file descriptor<ul>
<li>ECOMM : Communication error </li></ul>
</li></ul>
</li></ul>
</li></ul>

</div>
</div><p>
<a class="anchor" name="g34dc6129530d6bf9e5836ef22c0d2792"></a><!-- doxytag: member="POSIX_API.c::gfal_rename" ref="g34dc6129530d6bf9e5836ef22c0d2792" args="(const char *, const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_rename           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>oldpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>newpath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
change the name or location of a file oldpath and newpath need to be on the same catalog this functions work only with catalogs (lfc ) and local files 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oldpath</em>&nbsp;</td><td>: the old path of the file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newpath</em>&nbsp;</td><td>: the new path of the file </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>: return 0 if success, else -1 and errno / gfal_posix_error_print()<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Write perimission is denied for newpath or oldpath, or, search permission is denied for one of the directories in the path prefix of oldpath or newpath, or oldpath is a directory and does not allow write permission (needed to update the .. entry)</li><li>EFAULT: oldpath or newpath is a NULL pointer.<ul>
<li>EISDIR: newpath is an existing directory but oldpath is not a directory</li><li>ENOTEMPTY or EEXIST : newpath is a nonempty directory, that is, contains entries other than "." and ".."</li></ul>
</li><li>ENOTDIR: A component of path prefix is not a directory.<ul>
<li>EXDEV oldpath and newpath are not on the same mounted file system.</li></ul>
</li><li>ECOMM: Communication error</li><li>EPROTONOSUPPORT: oldpath or newpath has a syntax error or the protocol speficied is not supported</li><li>EINVAL: oldpath or newpath has an invalid syntax . </li></ul>
</li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="gcc4b6347640a722674c2d6df437490df"></a><!-- doxytag: member="POSIX_API.c::gfal_rmdir" ref="gcc4b6347640a722674c2d6df437490df" args="(const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_rmdir           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
removes a directory if it is empty remove an existing directory, return error if the dir is not empty 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>specifies the directory name, can be a surl ( srm://), local (<a href="file://">file://</a>) or a catalog url ( lfc:, ....) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>return 0 is success else -1 and errno is set ( and <a class="el" href="gfal__posix__ng_8c.html#03fcc29bc5d79dc2f65010846b0db024">gfal_posix_print_error()</a> )<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Write perimission is denied for path, or, search permission is denied for one of the directories in the path prefix of oldpath or newpath, or oldpath is a directory and does not allow write permission (needed to update the .. entry)</li><li>EFAULT: path is a NULL pointer.<ul>
<li>ENOTEMPTY : path is a nonempty directory, that is, contains entries other than "." and ".."</li></ul>
</li><li>ENOTDIR: A component of path prefix is not a directory.</li><li>ECOMM: Communication error</li><li>EPROTONOSUPPORT: path has a syntax error or the protocol speficied is not supported</li><li>EINVAL: path has an invalid syntax . </li></ul>
</li></ul>
</li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g1d8c86d522d5dd26ee7ddcd9c6925964"></a><!-- doxytag: member="POSIX_API.c::gfal_stat" ref="g1d8c86d522d5dd26ee7ddcd9c6925964" args="(const char *, struct stat *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gfal_stat           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
informations about a file These functions return information about a file. No permissions are required on the file itself, but — in the case of stat() and lstat() — execute (search) permission is required on all of the directories in path that lead to the file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>: path of a file. Can be a SURL, a Catalog URL or a guid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>: pointer to an allocated struct stat </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>return 0 if success else -1 and errno is set ( and <a class="el" href="gfal__posix__ng_8c.html#03fcc29bc5d79dc2f65010846b0db024">gfal_posix_print_error()</a> )</dd></dl>
<ul>
<li>ERRNO list : <br>
<ul>
<li>usual errors:<ul>
<li>ENOENT: The named file/directory does not exist.</li><li>EACCES: Write perimission is denied for newpath or oldpath, or, search permission is denied for one of the directories in the path prefix of oldpath or newpath, or oldpath is a directory and does not allow write permission (needed to update the .. entry)</li><li>EFAULT: oldpath or newpath is a NULL pointer.</li><li>ENOTDIR: A component of path prefix is not a directory.</li><li>ECOMM: Communication error</li><li>EPROTONOSUPPORT: oldpath or newpath has a syntax error or the protocol speficied is not supported</li><li>EINVAL: oldpath or newpath has an invalid syntax . </li></ul>
</li></ul>
</li></ul>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jun 30 15:47:27 2011 for CERN org.glite.Gfal by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
